{% extends "layouts/main.html" %}

{% if teacher.mentorId %}
  {% set pageName="Who is the new mentor for " + teacher.name + "?" %}
{% else %}
  {% set pageName="Who is the mentor for " + teacher.name + "?" %}
{% endif %}

{% block beforeContent %}
  {{ govukBackLink({href: "/early-career-teachers/" + id}) }}
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <form action="/early-career-teachers/{{ teacher.id }}/update-mentor" method="post">
      {% set mentorItems = [] %}
      {% for mentor in data.mentors %}

        {% if mentor.id != teacher.mentorId %}
          {% set mentorItems = (mentorItems.push({
            value: mentor.id,
            text: mentor.name
          }), mentorItems) %}

        {% endif %}
      {% endfor %}

      {% if teacher.mentorId %}
        {% set mentorItems = (mentorItems.push({divider: "or"}), mentorItems) %}

        {% set mentorItems = (mentorItems.push({
          value: "",
          text: "Iâ€™ll assign a new mentor later"
        }), mentorItems) %}
      {% endif %}

      {{ govukRadios({
        name: "newMentorId",
        fieldset: {
          legend: {
            text: pageName,
            isPageHeading: true,
            classes: "govuk-fieldset__legend--l"
          }
        },
        items: mentorItems
      }) }}

      {{ govukButton({ text: "Continue" }) }}

    </form>
  </div>
</div>

{% endblock %}
